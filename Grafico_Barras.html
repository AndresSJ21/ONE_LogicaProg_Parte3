<canvas width="800" height="600"></canvas>

<script>

    function dibujarRectangulo (x,y, base, altura, color){

        var pantalla=document.querySelector("canvas");
        var pincel=pantalla.getContext("2d");

        pincel.fillStyle = color;
        pincel.fillRect(x,y,base,altura);
        pincel.strokeStyle = "black";
        pincel.strokeRect(x,y,base,altura);

    }

    function escribirTexto (x,y,texto){
        var pantalla = document.querySelector("canvas");
        var pincel = pantalla.getContext("2d");

        pincel.font="15px Georgia";
        pincel.fillStyle="black";
        pincel.fillText(texto,x,y);

    }

    var serie2009 = [6, 47, 41, 3, 3]; //cada valor es un porcentaje
    var serie2019 = [81, 9, 3, 3, 4];

    var colores = ["blue","green","yellow","red","gray"]; // colores usados en el gráfico

    // crear función dibujarBarra que cree una barra de 5 rectángulos: 1-azul, 2-verde, 3-amarillo, 4-red, 5-gray
    // la llamada a la funcion puede ser 
    //    dibujarBarra(50, 50, serie2009, colores, "2009");
    //    dibujarBarra(150, 50, serie2019, colores, "2019");

    function dibujarBarra(x, y, serie, colores, texto){
        escribirTexto(x,y-10,texto);
        var altura=y;
        for (var index = 0; index<serie.length; index++){  
            dibujarRectangulo(x,altura,35, serie[index], colores[index]);
            altura=altura+serie[index];
        }

    }

    dibujarBarra(50,50, serie2009, colores, "2009");
    dibujarBarra(105,50, serie2019, colores, "2019");

</script>